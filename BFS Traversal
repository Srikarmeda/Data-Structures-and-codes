#include <stdio.h>
#include<stdlib.h>
#define MAX_VERTICES 100
void addEdge(int graph[MAX_VERTICES][MAX_VERTICES],int start,int end)
{
    graph[start][end]=1;
    //graph[end][start]=1;
}
void BFS(int graph[MAX_VERTICES][MAX_VERTICES],int vertices,int startVertex)
{
    int visited[MAX_VERTICES]={0};
    int queue[MAX_VERTICES];
    int front=-1,rear=-1;
    visited[startVertex]=1;
    queue[++rear]=startVertex;
    printf("BFS Traversal order: ");
    while(front!=rear)
    {
        int currentVertex=queue[++front];
        printf("%d ",currentVertex);
        for(int i=0;i<vertices;i++)
        {
            if(graph[currentVertex][i]=1&&!visited[i])
            {
                visited[i]=1;
                queue[++rear]=i;
            }
        }
    }
}
int main() {
    int vertices;
    scanf("%d",&vertices);
    int graph[MAX_VERTICES][MAX_VERTICES]={0};
    int edges;
    scanf("%d",&edges);
    for(int i=0;i<edges;i++)
    {
        int start,end;
        scanf("%d%d",&start,&end);
        addEdge(graph,start,end);
    }
    int startVertex;
    scanf("%d",&startVertex);
    BFS(graph,vertices,startVertex);
    return 0;
}
